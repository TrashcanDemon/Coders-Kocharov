TARGET = dec_stat_lib
CFLAGS = -c -std=c99 -Wall

all: decoder

decoder: decoder.o dec_stat_lib.a
	gcc -std=c99 -Wall -o decoder decoder.o dec_stat_lib.a
	rm m_upperlower.o m_strip.o m_caesar.o m_xor.o decoder.o

decoder.o: coders/decoder.c
	gcc $(CFLAGS) coders/decoder.c

dec_stat_lib.a: m_upperlower.o m_strip.o m_caesar.o m_xor.o
	ar -rs dec_stat_lib.a m_upperlower.o m_strip.o m_caesar.o m_xor.o

m_upperlower.o: modules/m_upperlower.c
	gcc $(CFLAGS) modules/m_upperlower.c

m_strip.o: modules/m_strip.c
	gcc $(CFLAGS) modules/m_strip.c

m_caesar.o: modules/m_caesar.c
	gcc $(CFLAGS) modules/m_caesar.c

m_xor.o: modules/m_xor.c
	gcc $(CFLAGS) modules/m_xor.c

clean:
	rm -rf *.o decoder
	rm -rf *.a decoder